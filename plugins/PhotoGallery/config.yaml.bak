id: PhotoGallery
name: 'Photo Gallery'
version: 2.1
description: The Photo Gallery plugin allows users to easily create photo galleries and to upload photos to them.
author_name: 'Byrne Reese'
author_link: 'http://www.majordojo.com/'

object_types:
  asset.photo: 'MT::Asset::ImagePhoto'

callbacks: 
  MT::App::CMS::template_output.list_category: $PhotoGallery::PhotoGallery::Plugin::xfrm_categories

applications:
  cms:
    methods:
      PhotoGallery.start: $PhotoGallery::PhotoGallery::App::CMS::start_upload
      PhotoGallery.upload_photo: $PhotoGallery::PhotoGallery::App::CMS::upload_photo
      PhotoGallery.save_photo: $PhotoGallery::PhotoGallery::App::CMS::save_photo
      PhotoGallery.upgrade: $PhotoGallery::PhotoGallery::App::CMS::upgrade
      PhotoGallery.photos: $PhotoGallery::PhotoGallery::Plugin::mode_manage
      PhotoGallery.edit: $PhotoGallery::PhotoGallery::Plugin::mode_edit
    menus: $PhotoGallery::PhotoGallery::Plugin::load_menus
    list_filters: $PhotoGallery::PhotoGallery::Plugin::load_list_filters

template_sets:
  stopdesign_photogallery_html:
    label: 'Stop Design Photo Gallery (HTML)'
    base_path: 'templates/html'
    order: '500'
    templates: 
      index: 
        main_index: 
          label: 'Gallery Index'
          outfile: 'index.php'
          rebuild_me: 1
        javascript: 
          label: 'Site Javascript'
          outfile: 'mt-site.js'
          rebuild_me: 1
        galleries_index: 
          label: 'Gallery Archive'
          outfile: 'galleries/index.php'
          rebuild_me: 1
        galleries_feed: 
          label: 'Gallery Archive (RSS)'
          outfile: 'galleries/galleries.xml'
          rebuild_me: 1
        comments_index: 
          label: 'Recent Comments'
          outfile: 'comments/index.php'
          rebuild_me: 1
        comments_feed: 
          label: 'Recent Comments (RSS)'
          outfile: 'comments/comments.xml'
          rebuild_me: 1
        photos_feed: 
          label: 'Recent Photos (RSS)'
          outfile: 'index.xml'
          rebuild_me: 1
        archive: 
          gallery_info: 
            label: 'Gallery Info'
            mappings: 
              category: 
                archive_type: 'Category'
                file_template: '<$MTArchiveTitle dirifyplus="pld"$>/galleryinfo.php'
                preferred: '0'
          gallery_title: 
            label: 'Gallery Title'
            mappings: 
              category: 
                archive_type: 'Category'
                file_template: '<MTIf tag="MTArchiveTitle" eq="Favorites">favorites/title.php<MTElse><$MTArchiveTitle dirifyplus="pld"$>/index.php</MTElse></MTIf>'
                preferred: '0'
          gallery: 
            label: 'Photo Gallery'
            mappings: 
              category: 
                archive_type: 'Category'
                file_template: '<MTIf tag="MTArchiveTitle" eq="Favorites">favorites/index.php<MTElse><$MTArchiveTitle dirifyplus="pld"$>/gallery/index.php</MTElse></MTIf>'
                preferred: '0'
          gallery_feed: 
            label: 'Photo Gallery (RSS)'
            mappings: 
              category: 
                archive_type: 'Category'
                file_template: '<$MTArchiveTitle dirifyplus="pld"$>/index.xml'
                preferred: '0'
          individual: 
            photo: 
              label: 'Individual Photo'
              mappings: 
                entry_archive: 
                archive_type: 'Individual'
                file_template: '<$MTEntryCategory dirifyplus="pld"$>/gallery/<$MTEntryBasename dirifyplus="pld"$>.php'
                preferred: '1'
          module: 
            photo_macro: 
              label: "Photo Macro"
            footer: 
              label: 'Footer'
            comment_fields: 
              label: 'Comment Fields'
          system: 
            comment_preview: 
              label: 'Comment Preview'
            comment_response: 
              label: 'Comment Response'
            dynamic_error: 
              label: 'Dynamic Error'
  stopdesign_photo_gallery:
    label: 
      php: 'Stop Design Photo Gallery (PHP)'
      base_path: 'templates/php'
      order: '500'
      templates: 
        index: 
          main_index: 
            label: 'Gallery Index'
            outfile: 'index.php'
            rebuild_me: 1
          javascript: 
            label: 'Site Javascript'
            outfile: 'mt-site.js'
            rebuild_me: 1
          galleries_index: 
            label: 'Gallery Archive'
            outfile: 'galleries/index.php'
            rebuild_me: 1
          galleries_feed: 
            label: 'Gallery Archive (RSS)'
            outfile: 'galleries/galleries.xml'
            rebuild_me: 1
          comments_index: 
            label: 'Recent Comments'
            outfile: 'comments/index.php'
            rebuild_me: 1
          comments_feed: 
            label: 'Recent Comments (RSS)'
            outfile: 'comments/comments.xml'
            rebuild_me: 1
          photos_feed: 
            label: 'Recent Photos (RSS)'
            outfile: 'index.xml'
            rebuild_me: 1
        archive: 
          gallery_info: 
            label: 'Gallery Info'
            mappings: 
              category: 
                archive_type: 'Category'
                file_template: '<$MTArchiveTitle dirifyplus="pld"$>/galleryinfo.php'
                preferred: '0'
          gallery_title: 
            label: 'Gallery Title'
            mappings: 
              category: 
                archive_type: 'Category'
                file_template: '<MTIf tag="MTArchiveTitle" eq="Favorites">favorites/title.php<MTElse><$MTArchiveTitle dirifyplus="pld"$>/index.php</MTElse></MTIf>'
                preferred: '0'
          gallery: 
            label: 'Photo Gallery'
            mappings: 
              category: 
                archive_type: 'Category'
                file_template: '<MTIf tag="MTArchiveTitle" eq="Favorites">favorites/index.php<MTElse><$MTArchiveTitle dirifyplus="pld"$>/gallery/index.php</MTElse></MTIf>'
                preferred: '0'
          gallery_feed: 
            label: 'Photo Gallery (RSS)'
            mappings: 
              category: 
                archive_type: 'Category'
                file_template: '<$MTArchiveTitle dirifyplus="pld"$>/index.xml'
                preferred: '0'
          individual: 
            photo: 
              label: 'Individual Photo'
              mappings: 
                entry_archive: 
                  archive_type: 'Individual'
                  file_template: '<$MTEntryCategory dirifyplus="pld"$>/gallery/<$MTEntryBasename dirifyplus="pld"$>.php'
                  preferred: '1'
        module: 
          photo_macro: 
            label: "Photo Macro"
          footer: 
            label: 'Footer'
          comment_fields: 
            label: 'Comment Fields'
        system: 
          comment_preview: 
            label: 'Comment Preview'
          comment_response: 
            label: 'Comment Response'
          dynamic_error: 
            label: 'Dynamic Error'


